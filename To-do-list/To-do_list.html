<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <Link rel="styleSheet" href="to-do.css">
    <title>To-Do_List, Abzar Camara</title>
</head>

<body>

    <div class="ac_container">
        <div class="ac_row">
            <!-- title -->
            <H1>JAVASCRIPT TO-DO-List</H1>
            <!-- the box input -->
            <div class="ac_form">
                <form action="">
                    <Input type="text" placeholder="Add item" id="my_input"></Input>
                    <button type="button" onclick="add_items()">Save</button>
                </form>

            </div>
            <div class="ac_list">
                <ul id="ul">
                   
                </ul>
            </div>
        </div>
    </div>
    <!-- Now you will add javascript for manipulation -->
    <script>
        // getting the input of items and tag ul
        const text = document.getElementById("my_input");
        const Listcontainer = document.getElementById("ul");
        function add_items() {
            // verifying if the input is initial or null if is null the alert will be display
            if (text.value === "") {
                alert("Please Add a task");
            } else {
                // creating the element li using createElement 
                const li = document.createElement("li");
                // asign the value to li
                li.textContent = text.value;
                // for span
                const span = document.createElement("span");
                span.textContent = "x";
                li.appendChild(span);
                // append the value the tag and the value of li to ul which is listcontainer
                Listcontainer.appendChild(li);
            }
            // reset the value after the condition 
            text.value = "";
            // call the function saveData to save the data after resetting 
            saveData();
        }
        // the function to save the data to localstorage
        function saveData() {
            localStorage.setItem("data", Listcontainer.innerHTML);
        }
        // getting the value stored even if we load the page 
        function showData() {
            Listcontainer.innerHTML = localStorage.getItem("data");
        }
        // calling the data to display 
        showData();
        // here will add eventlistener to li after click it should add "active" to the classe li 
        // the target return the value to UPPERCASE ; 
        Listcontainer.addEventListener('click', function(e){
            if(e.target.tagName === "LI"){
                e.target.classList.toggle("active");
                saveData();
            }else if(e.target.tagName === "SPAN"){
                e.target.parentElement.remove();
                saveData();
            }
        })
        

    </script>
</body>

</html>